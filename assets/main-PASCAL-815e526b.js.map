{"version":3,"file":"main-PASCAL-815e526b.js","sources":["../../src/main-PASCAL.ts"],"sourcesContent":["/// <reference types=\"@workadventure/iframe-api-typings\" />\n\nimport { bootstrapExtra } from \"@workadventure/scripting-api-extra\";\n\nconsole.log('Script started successfully');\n\n// Waiting for the API to be ready\nWA.onInit().then(() => {\n    console.log('Scripting API ready');\n    console.log('Player tags: ',WA.player.tags)\n    WA.player.setOutlineColor(0, 200, 135);\n    WA.room.onEnterLayer(\"roofZone\").subscribe(() => {\n        WA.room.hideLayer('Roof1');\n        WA.room.hideLayer('Roof2');\n    });\n\n    WA.room.onLeaveLayer(\"roofZone\").subscribe(() => {\n        WA.room.showLayer('Roof1');\n        WA.room.showLayer('Roof2');\n    });\n    WA.room.onEnterLayer(\"silent\").subscribe(() => {\n        WA.room.showLayer('silentRoof');\n    });\n\n    WA.room.onLeaveLayer(\"silent\").subscribe(() => {\n        WA.room.hideLayer('silentRoof');\n    });\n\n    WA.ui.actionBar.removeButton(\"invite\");\n    WA.controls.disableInviteButton();\n\n\n    let ressourcesUrl: any;\n    //let githubUrl: any;\n    if(WA.player.tags.includes(\"room1\")) {\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom1') as string;\n        //githubUrl = WA.state.loadVariable('gitRoom1') as string;\n        console.log(\"As room1 right\");\n    } else if (WA.player.tags.includes(\"room2\")) {\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom2') as string;\n        //githubUrl = WA.state.loadVariable('gitRoom2') as string;\n        console.log(\"As room2 right\");\n    } else if (WA.player.tags.includes(\"room3\")) {\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom3') as string;\n        //githubUrl = WA.state.loadVariable('gitRoom3') as string;\n        console.log(\"As room3 right\");\n    } else if (WA.player.tags.includes(\"room4\")) {\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom4') as string;\n        //githubUrl = WA.state.loadVariable('gitRoom4') as string;\n        console.log(\"As room5 right\");\n    } else if (WA.player.tags.includes(\"room5\")) {\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom5') as string;\n        //githubUrl = WA.state.loadVariable('gitRoom5') as string;\n        console.log(\"As room6 right\");\n    } else if (WA.player.tags.includes(\"room6\")) {\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom6') as string;\n        //githubUrl = WA.state.loadVariable('gitRoom6') as string;\n        console.log(\"As room7 right\");\n    } else if (WA.player.tags.includes(\"room7\")) {\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom7') as string;\n        //githubUrl = WA.state.loadVariable('gitRoom7') as string;\n        console.log(\"As room8 right\");\n    } else if (WA.player.tags.includes(\"room8\")) {\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom8') as string;\n        //githubUrl = WA.state.loadVariable('gitRoom8') as string;\n        console.log(\"As room9 right\");\n    } else if (WA.player.tags.includes(\"room9\")) {\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom9') as string;\n        //githubUrl = WA.state.loadVariable('gitRoom9') as string;\n        console.log(\"As room10 right\");\n    } else if (WA.player.tags.includes(\"room10\")) {\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom10') as string;\n        //githubUrl = WA.state.loadVariable('gitRoom10') as string;\n        console.log(\"As room11 right\");\n    } else if (WA.player.tags.includes(\"room11\")) {\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom11') as string;\n        //githubUrl = WA.state.loadVariable('gitRoom11') as string;\n        console.log(\"As room12 right\");\n    } else if (WA.player.tags.includes(\"room12\")) {\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom12') as string;\n        //githubUrl = WA.state.loadVariable('gitRoom12') as string;\n    } else if (WA.player.tags.includes(\"room13\")) {\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom13') as string;\n        //githubUrl = WA.state.loadVariable('gitRoom13') as string;\n        console.log(\"As room13 right\");\n    } else if (WA.player.tags.includes(\"room14\")) {\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom14') as string;\n        //githubUrl = WA.state.loadVariable('gitRoom14') as string;\n        console.log(\"As room14 right\");\n    } else if (WA.player.tags.includes(\"room15\")) {\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom15') as string;\n        //githubUrl = WA.state.loadVariable('gitRoom15') as string;\n        console.log(\"As room15 right\");\n    } else if (WA.player.tags.includes(\"admin\")) {\n        ressourcesUrl = WA.state.loadVariable('ressourcesAdmin') as string;\n        //githubUrl = WA.state.loadVariable('gitAdmin') as string;\n        console.log(\"As admin right\");\n    }\n\n    /*\n    WA.ui.actionBar.addButton({\n        id: 'github-btn',\n        type: 'action',\n        imageSrc: 'https://www.shareicon.net/data/256x256/2015/09/15/101512_logo_512x512.png',\n        toolTip: 'Github project repository',\n        callback: () => {\n            WA.nav.openTab(githubUrl as string);\n        }\n    });\n    */\n    WA.ui.actionBar.addButton({\n        id: 'workspace',\n        // @ts-ignore\n        label: 'Ressources',\n        toolTip: 'Access to your project directory',\n        callback: () => {\n            WA.nav.openTab(ressourcesUrl as string);\n        }\n    });\n\n    WA.ui.actionBar.addButton({\n        id: 'help-btn',\n        // @ts-ignore\n        label: 'Help',\n        callback: () => {\n            WA.ui.modal.closeModal();\n            WA.ui.modal.openModal({\n                src: \"https://workadventure.github.io/embed-pages/src/pasqal/welcome.html\",\n                allow: 'fullscreen',\n                title: 'Bienvenue',\n                allowApi: true,\n                position: 'right',\n            });\n        }\n    });\n    let helpZone: any;\n    WA.room.onEnterLayer('helpZone').subscribe(() => {\n        helpZone = WA.ui.displayActionMessage({\n            message: \"<div style='text-align:center;'>Press <svg width='20' height='10' viewBox='0 0 20 10' style='margin-right: 2px; margin-left: 2px; fill: white; border-radius: 2px; border: 1px solid white; padding: 2px; box-sizing: border-box; background-color: white;'><text x='50%' y='50%' text-anchor='middle' dominant-baseline='middle' style='font-size: 10px; fill: black; font-weight: bold;'>SPACE</text></svg> to get help</div>\",\n            callback: () => {\n                WA.ui.modal.closeModal();\n                WA.ui.modal.openModal({\n                    src: \"https://workadventure.github.io/embed-pages/src/pasqal/welcome.html\",\n                    allow: 'fullscreen',\n                    title: 'Bienvenue',\n                    allowApi: true,\n                    position: 'right',\n                });\n            }\n        }); \n    })\n    WA.room.onLeaveLayer('helpZone').subscribe(() => {\n        helpZone.remove();\n    })\n\n    let startZone: any;\n    setTimeout(function() {\n        startZone = WA.ui.displayActionMessage({\n            message: \"<img src='https://workadventu.re/wp-content/uploads/2025/02/keyboard.gif' width='40' style='width: 40px !important;' id='keyboard-info' />\",\n            callback: () => {\n\n            }\n        });\n    }, 3000)\n    WA.room.onLeaveLayer('start').subscribe(() => {\n        startZone.remove();\n    })\n    WA.room.area.onEnter('helpZoneRight').subscribe(() => {\n        helpZone = WA.ui.displayActionMessage({\n            message: \"<div style='text-align:center;'>Press <svg width='20' height='10' viewBox='0 0 20 10' style='margin-right: 2px; margin-left: 2px; fill: white; border-radius: 2px; border: 1px solid white; padding: 2px; box-sizing: border-box; background-color: white;'><text x='50%' y='50%' text-anchor='middle' dominant-baseline='middle' style='font-size: 10px; fill: black; font-weight: bold;'>SPACE</text></svg> to get help</div>\",\n            callback: () => {\n                WA.ui.modal.closeModal();\n                WA.ui.modal.openModal({\n                    src: \"https://workadventure.github.io/embed-pages/src/pasqal/welcome.html\",\n                    allow: 'fullscreen',\n                    title: 'Bienvenue',\n                    allowApi: true,\n                    position: 'right',\n                });\n            }\n        }); \n    })\n    WA.room.area.onLeave('helpZoneRight').subscribe(() => {\n        helpZone.remove();\n    })\n\n    // The line below bootstraps the Scripting API Extra library that adds a number of advanced properties/features to WorkAdventure\n    bootstrapExtra().then(() => {\n        console.log('Scripting API Extra ready');\n    }).catch(e => console.error(e));\n\n}).catch(e => console.error(e));\n\nexport {};\n"],"names":["ressourcesUrl","helpZone","startZone","bootstrapExtra","e"],"mappings":"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"}