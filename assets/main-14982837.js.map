{"version":3,"file":"main-14982837.js","sources":["../../src/c.ts","../../src/b.ts","../../src/main.ts"],"sourcesContent":["/// <reference types=\"@workadventure/iframe-api-typings\" />\n\nlet currentPopup: any;\n\nexport const config = [\n    {\n        zone: 'fireplacezone',\n        message: 'Hey! Is this office cold?',\n        cta: [\n            {\n                label: 'Yes',\n                className: 'primary',\n                callback: () => {WA.room.showLayer('others/fire');}\n            },\n            {\n                label: 'No',\n                className: 'primary',\n                callback: () => {WA.room.hideLayer('others/fire');}\n            }\n        ]\n    },\n]\n\nexport function openPopup(zoneName: string, popupName: string) {\n    const zone = config.find((item) => {\n        return item.zone == zoneName\n    });\n    if (typeof zone !== 'undefined') {\n        // @ts-ignore otherwise we can't use zone.cta object\n        currentPopup = WA.ui.openPopup(popupName, zone.message, zone.cta)\n\n    }\n}\n\nexport function closePopup(){\n    if (typeof currentPopup !== undefined) {\n        currentPopup.close();\n        currentPopup = undefined;\n    }\n}","/// <reference types=\"@workadventure/iframe-api-typings\" \n\nexport function day_night_cycle(dayFolder: string, nightFolder: string) {\n    let today = new Date();\n    let time = today.getHours();\n    if (time >= 17 && time <= 6) {\n        WA.room.hideLayer(dayFolder);\n        WA.room.showLayer(nightFolder);\n    }\n    else{\n        WA.room.hideLayer(nightFolder);\n        WA.room.showLayer(dayFolder);    \n    }\n}","/// <reference types=\"@workadventure/iframe-api-typings\" />\n\nimport { bootstrapExtra } from \"@workadventure/scripting-api-extra\";\n\nimport { openPopup , closePopup} from \"./c\";\nimport {day_night_cycle} from \"./b\";\n\nconsole.log('Script started successfully');\n\n// Waiting for the API to be ready\nWA.onInit().then(() => {\n\n    if(WA.player.tags.includes(\"team\")) {\n        WA.player.setOutlineColor(0, 119, 141);\n    }\n    \n    let currentZone: string;\n    WA.room.area.onEnter('fireplacezone').subscribe (() => {\n        //console.log('   uhiuiiuh        iuh iuiuh          uihuih');\n        currentZone = 'fireplacezone';\n        openPopup(currentZone, currentZone + 'Popup');\n    });\n    WA.room.area.onLeave('fireplacezone').subscribe(() => {\n        closePopup();\n    });\n\n    //This function will automatically change day mode into night mode\n    //folders for the inputs: first day folder, second night folder.\n    //In each folder, the layers should be related to the state of day and night.\n    day_night_cycle(\"\",\"\");\n\n    // The line below bootstraps the Scripting API Extra library that adds a number of advanced properties/features to WorkAdventure\n    bootstrapExtra().then(() => {\n        console.log('Scripting API Extra ready');\n    }).catch(e => console.error(e));\n\n}).catch(e => console.error(e));\n\nexport {};\n"],"names":["currentPopup","config","openPopup","zoneName","popupName","zone","item","closePopup","day_night_cycle","dayFolder","nightFolder","time","currentZone","bootstrapExtra","e"],"mappings":"uCAEA,IAAIA,EAEG,MAAMC,EAAS,CAClB,CACI,KAAM,gBACN,QAAS,4BACT,IAAK,CACD,CACI,MAAO,MACP,UAAW,UACX,SAAU,IAAM,CAAI,GAAA,KAAK,UAAU,aAAa,CAAE,CACtD,EACA,CACI,MAAO,KACP,UAAW,UACX,SAAU,IAAM,CAAI,GAAA,KAAK,UAAU,aAAa,CAAE,CACtD,CACJ,CACJ,CACJ,EAEgB,SAAAC,EAAUC,EAAkBC,EAAmB,CAC3D,MAAMC,EAAOJ,EAAO,KAAMK,GACfA,EAAK,MAAQH,CACvB,EACG,OAAOE,EAAS,MAEhBL,EAAe,GAAG,GAAG,UAAUI,EAAWC,EAAK,QAASA,EAAK,GAAG,EAGxE,CAEO,SAASE,GAAY,CACpB,OAAOP,IAAiB,SACxBA,EAAa,MAAM,EACJA,EAAA,OAEvB,CCrCgB,SAAAQ,EAAgBC,EAAmBC,EAAqB,CAEhE,IAAAC,MADY,OACC,WACbA,GAAQ,IAAMA,GAAQ,GACnB,GAAA,KAAK,UAAUF,CAAS,EACxB,GAAA,KAAK,UAAUC,CAAW,IAG1B,GAAA,KAAK,UAAUA,CAAW,EAC1B,GAAA,KAAK,UAAUD,CAAS,EAEnC,CCNA,QAAQ,IAAI,6BAA6B,EAGzC,GAAG,OAAA,EAAS,KAAK,IAAM,CAEhB,GAAG,OAAO,KAAK,SAAS,MAAM,GAC7B,GAAG,OAAO,gBAAgB,EAAG,IAAK,GAAG,EAGrC,IAAAG,EACJ,GAAG,KAAK,KAAK,QAAQ,eAAe,EAAE,UAAW,IAAM,CAErCA,EAAA,gBACJV,EAAAU,EAAaA,EAAc,OAAO,CAAA,CAC/C,EACD,GAAG,KAAK,KAAK,QAAQ,eAAe,EAAE,UAAU,IAAM,CACvCL,GAAA,CACd,EAKDC,EAAgB,GAAG,EAAE,EAGNK,EAAA,EAAE,KAAK,IAAM,CACxB,QAAQ,IAAI,2BAA2B,CAAA,CAC1C,EAAE,SAAW,QAAQ,MAAMC,CAAC,CAAC,CAElC,CAAC,EAAE,MAAM,GAAK,QAAQ,MAAM,CAAC,CAAC"}