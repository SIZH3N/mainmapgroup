{"version":3,"file":"main-PASCAL-a1943d3d.js","sources":["../../src/main-PASCAL.ts"],"sourcesContent":["/// <reference types=\"@workadventure/iframe-api-typings\" />\r\n\r\nimport { bootstrapExtra } from \"@workadventure/scripting-api-extra\";\r\n\r\nconsole.log('Script started successfully');\r\n\r\n// Waiting for the API to be ready\r\nWA.onInit().then(() => {\r\n    WA.player.tags.push(\"room1\");\r\n    console.log('Scripting API ready');\r\n    console.log('Player tags: ', WA.player.tags)\r\n    WA.player.setOutlineColor(0, 200, 135);\r\n    WA.room.onEnterLayer(\"roofZone\").subscribe(() => {\r\n        WA.room.hideLayer('Roof1');\r\n        WA.room.hideLayer('Roof2');\r\n    });\r\n\r\n    WA.room.onLeaveLayer(\"roofZone\").subscribe(() => {\r\n        WA.room.showLayer('Roof1');\r\n        WA.room.showLayer('Roof2');\r\n    });\r\n    WA.room.onEnterLayer(\"silent\").subscribe(() => {\r\n        WA.room.showLayer('silentRoof');\r\n    });\r\n\r\n    WA.room.onLeaveLayer(\"silent\").subscribe(() => {\r\n        WA.room.hideLayer('silentRoof');\r\n    });\r\n\r\n    WA.ui.actionBar.removeButton(\"invite\");\r\n    WA.controls.disableInviteButton();\r\n\r\n\r\n    let ressourcesUrl: any;\r\n    //let githubUrl: any;\r\n    if (WA.player.tags.includes(\"room1\")) {\r\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom1') as string;\r\n        //githubUrl = WA.state.loadVariable('gitRoom1') as string;\r\n        console.log(\"As room1 right\");\r\n    } else if (WA.player.tags.includes(\"room2\")) {\r\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom2') as string;\r\n        //githubUrl = WA.state.loadVariable('gitRoom2') as string;\r\n        console.log(\"As room2 right\");\r\n    } else if (WA.player.tags.includes(\"room3\")) {\r\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom3') as string;\r\n        //githubUrl = WA.state.loadVariable('gitRoom3') as string;\r\n        console.log(\"As room3 right\");\r\n    } else if (WA.player.tags.includes(\"room4\")) {\r\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom4') as string;\r\n        //githubUrl = WA.state.loadVariable('gitRoom4') as string;\r\n        console.log(\"As room5 right\");\r\n    } else if (WA.player.tags.includes(\"room5\")) {\r\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom5') as string;\r\n        //githubUrl = WA.state.loadVariable('gitRoom5') as string;\r\n        console.log(\"As room6 right\");\r\n    } else if (WA.player.tags.includes(\"room6\")) {\r\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom6') as string;\r\n        //githubUrl = WA.state.loadVariable('gitRoom6') as string;\r\n        console.log(\"As room7 right\");\r\n    } else if (WA.player.tags.includes(\"room7\")) {\r\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom7') as string;\r\n        //githubUrl = WA.state.loadVariable('gitRoom7') as string;\r\n        console.log(\"As room8 right\");\r\n    } else if (WA.player.tags.includes(\"room8\")) {\r\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom8') as string;\r\n        //githubUrl = WA.state.loadVariable('gitRoom8') as string;\r\n        console.log(\"As room9 right\");\r\n    } else if (WA.player.tags.includes(\"room9\")) {\r\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom9') as string;\r\n        //githubUrl = WA.state.loadVariable('gitRoom9') as string;\r\n        console.log(\"As room10 right\");\r\n    } else if (WA.player.tags.includes(\"room10\")) {\r\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom10') as string;\r\n        //githubUrl = WA.state.loadVariable('gitRoom10') as string;\r\n        console.log(\"As room11 right\");\r\n    } else if (WA.player.tags.includes(\"room11\")) {\r\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom11') as string;\r\n        //githubUrl = WA.state.loadVariable('gitRoom11') as string;\r\n        console.log(\"As room12 right\");\r\n    } else if (WA.player.tags.includes(\"room12\")) {\r\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom12') as string;\r\n        //githubUrl = WA.state.loadVariable('gitRoom12') as string;\r\n    } else if (WA.player.tags.includes(\"room13\")) {\r\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom13') as string;\r\n        //githubUrl = WA.state.loadVariable('gitRoom13') as string;\r\n        console.log(\"As room13 right\");\r\n    } else if (WA.player.tags.includes(\"room14\")) {\r\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom14') as string;\r\n        //githubUrl = WA.state.loadVariable('gitRoom14') as string;\r\n        console.log(\"As room14 right\");\r\n    } else if (WA.player.tags.includes(\"room15\")) {\r\n        ressourcesUrl = WA.state.loadVariable('ressourcesRoom15') as string;\r\n        //githubUrl = WA.state.loadVariable('gitRoom15') as string;\r\n        console.log(\"As room15 right\");\r\n    } else if (WA.player.tags.includes(\"admin\")) {\r\n        ressourcesUrl = WA.state.loadVariable('ressourcesAdmin') as string;\r\n        //githubUrl = WA.state.loadVariable('gitAdmin') as string;\r\n        console.log(\"As admin right\");\r\n    }\r\n\r\n    /*\r\n    WA.ui.actionBar.addButton({\r\n        id: 'github-btn',\r\n        type: 'action',\r\n        imageSrc: 'https://www.shareicon.net/data/256x256/2015/09/15/101512_logo_512x512.png',\r\n        toolTip: 'Github project repository',\r\n        callback: () => {\r\n            WA.nav.openTab(githubUrl as string);\r\n        }\r\n    });\r\n    */\r\n    WA.ui.actionBar.addButton({\r\n        id: 'workspace',\r\n        // @ts-ignore\r\n        label: 'Ressources',\r\n        toolTip: 'Access to your project directory',\r\n        callback: () => {\r\n            WA.nav.openTab(ressourcesUrl as string);\r\n        }\r\n    });\r\n\r\n    WA.ui.actionBar.addButton({\r\n        id: 'help-btn',\r\n        // @ts-ignore\r\n        label: 'Help',\r\n        callback: () => {\r\n            WA.ui.modal.closeModal();\r\n            WA.ui.modal.openModal({\r\n                src: \"https://workadventure.github.io/embed-pages/src/pasqal/welcome.html\",\r\n                allow: 'fullscreen',\r\n                title: 'Bienvenue',\r\n                allowApi: true,\r\n                position: 'right',\r\n            });\r\n        }\r\n    });\r\n    let helpZone: any;\r\n    WA.room.onEnterLayer('helpZone').subscribe(() => {\r\n        helpZone = WA.ui.displayActionMessage({\r\n            message: \"<div style='text-align:center;'>Press <svg width='20' height='10' viewBox='0 0 20 10' style='margin-right: 2px; margin-left: 2px; fill: white; border-radius: 2px; border: 1px solid white; padding: 2px; box-sizing: border-box; background-color: white;'><text x='50%' y='50%' text-anchor='middle' dominant-baseline='middle' style='font-size: 10px; fill: black; font-weight: bold;'>SPACE</text></svg> to get help</div>\",\r\n            callback: () => {\r\n                WA.ui.modal.closeModal();\r\n                WA.ui.modal.openModal({\r\n                    src: \"https://workadventure.github.io/embed-pages/src/pasqal/welcome.html\",\r\n                    allow: 'fullscreen',\r\n                    title: 'Bienvenue',\r\n                    allowApi: true,\r\n                    position: 'right',\r\n                });\r\n            }\r\n        });\r\n    })\r\n    WA.room.onLeaveLayer('helpZone').subscribe(() => {\r\n        helpZone.remove();\r\n    })\r\n\r\n    let startZone: any;\r\n    setTimeout(function () {\r\n        startZone = WA.ui.displayActionMessage({\r\n            message: \"<img src='https://workadventu.re/wp-content/uploads/2025/02/keyboard.gif' width='40' style='width: 40px !important;' id='keyboard-info' />\",\r\n            callback: () => {\r\n\r\n            }\r\n        });\r\n    }, 3000)\r\n    WA.room.onLeaveLayer('start').subscribe(() => {\r\n        startZone.remove();\r\n    })\r\n    WA.room.area.onEnter('helpZoneRight').subscribe(() => {\r\n        helpZone = WA.ui.displayActionMessage({\r\n            message: \"<div style='text-align:center;'>Press <svg width='20' height='10' viewBox='0 0 20 10' style='margin-right: 2px; margin-left: 2px; fill: white; border-radius: 2px; border: 1px solid white; padding: 2px; box-sizing: border-box; background-color: white;'><text x='50%' y='50%' text-anchor='middle' dominant-baseline='middle' style='font-size: 10px; fill: black; font-weight: bold;'>SPACE</text></svg> to get help</div>\",\r\n            callback: () => {\r\n                WA.ui.modal.closeModal();\r\n                WA.ui.modal.openModal({\r\n                    src: \"https://workadventure.github.io/embed-pages/src/pasqal/welcome.html\",\r\n                    allow: 'fullscreen',\r\n                    title: 'Bienvenue',\r\n                    allowApi: true,\r\n                    position: 'right',\r\n                });\r\n            }\r\n        });\r\n    })\r\n    WA.room.area.onLeave('helpZoneRight').subscribe(() => {\r\n        helpZone.remove();\r\n    })\r\n\r\n    // The line below bootstraps the Scripting API Extra library that adds a number of advanced properties/features to WorkAdventure\r\n    bootstrapExtra().then(() => {\r\n        console.log('Scripting API Extra ready');\r\n    }).catch(e => console.error(e));\r\n\r\n}).catch(e => console.error(e));\r\n\r\nexport { };\r\n"],"names":["ressourcesUrl","helpZone","startZone","bootstrapExtra","e"],"mappings":"uCAIA,QAAQ,IAAI,6BAA6B,EAGzC,GAAG,OAAA,EAAS,KAAK,IAAM,CAChB,GAAA,OAAO,KAAK,KAAK,OAAO,EAC3B,QAAQ,IAAI,qBAAqB,EACjC,QAAQ,IAAI,gBAAiB,GAAG,OAAO,IAAI,EAC3C,GAAG,OAAO,gBAAgB,EAAG,IAAK,GAAG,EACrC,GAAG,KAAK,aAAa,UAAU,EAAE,UAAU,IAAM,CAC1C,GAAA,KAAK,UAAU,OAAO,EACtB,GAAA,KAAK,UAAU,OAAO,CAAA,CAC5B,EAED,GAAG,KAAK,aAAa,UAAU,EAAE,UAAU,IAAM,CAC1C,GAAA,KAAK,UAAU,OAAO,EACtB,GAAA,KAAK,UAAU,OAAO,CAAA,CAC5B,EACD,GAAG,KAAK,aAAa,QAAQ,EAAE,UAAU,IAAM,CACxC,GAAA,KAAK,UAAU,YAAY,CAAA,CACjC,EAED,GAAG,KAAK,aAAa,QAAQ,EAAE,UAAU,IAAM,CACxC,GAAA,KAAK,UAAU,YAAY,CAAA,CACjC,EAEE,GAAA,GAAG,UAAU,aAAa,QAAQ,EACrC,GAAG,SAAS,sBAGR,IAAAA,EAEA,GAAG,OAAO,KAAK,SAAS,OAAO,GACfA,EAAA,GAAG,MAAM,aAAa,iBAAiB,EAEvD,QAAQ,IAAI,gBAAgB,GACrB,GAAG,OAAO,KAAK,SAAS,OAAO,GACtBA,EAAA,GAAG,MAAM,aAAa,iBAAiB,EAEvD,QAAQ,IAAI,gBAAgB,GACrB,GAAG,OAAO,KAAK,SAAS,OAAO,GACtBA,EAAA,GAAG,MAAM,aAAa,iBAAiB,EAEvD,QAAQ,IAAI,gBAAgB,GACrB,GAAG,OAAO,KAAK,SAAS,OAAO,GACtBA,EAAA,GAAG,MAAM,aAAa,iBAAiB,EAEvD,QAAQ,IAAI,gBAAgB,GACrB,GAAG,OAAO,KAAK,SAAS,OAAO,GACtBA,EAAA,GAAG,MAAM,aAAa,iBAAiB,EAEvD,QAAQ,IAAI,gBAAgB,GACrB,GAAG,OAAO,KAAK,SAAS,OAAO,GACtBA,EAAA,GAAG,MAAM,aAAa,iBAAiB,EAEvD,QAAQ,IAAI,gBAAgB,GACrB,GAAG,OAAO,KAAK,SAAS,OAAO,GACtBA,EAAA,GAAG,MAAM,aAAa,iBAAiB,EAEvD,QAAQ,IAAI,gBAAgB,GACrB,GAAG,OAAO,KAAK,SAAS,OAAO,GACtBA,EAAA,GAAG,MAAM,aAAa,iBAAiB,EAEvD,QAAQ,IAAI,gBAAgB,GACrB,GAAG,OAAO,KAAK,SAAS,OAAO,GACtBA,EAAA,GAAG,MAAM,aAAa,iBAAiB,EAEvD,QAAQ,IAAI,iBAAiB,GACtB,GAAG,OAAO,KAAK,SAAS,QAAQ,GACvBA,EAAA,GAAG,MAAM,aAAa,kBAAkB,EAExD,QAAQ,IAAI,iBAAiB,GACtB,GAAG,OAAO,KAAK,SAAS,QAAQ,GACvBA,EAAA,GAAG,MAAM,aAAa,kBAAkB,EAExD,QAAQ,IAAI,iBAAiB,GACtB,GAAG,OAAO,KAAK,SAAS,QAAQ,EACvBA,EAAA,GAAG,MAAM,aAAa,kBAAkB,EAEjD,GAAG,OAAO,KAAK,SAAS,QAAQ,GACvBA,EAAA,GAAG,MAAM,aAAa,kBAAkB,EAExD,QAAQ,IAAI,iBAAiB,GACtB,GAAG,OAAO,KAAK,SAAS,QAAQ,GACvBA,EAAA,GAAG,MAAM,aAAa,kBAAkB,EAExD,QAAQ,IAAI,iBAAiB,GACtB,GAAG,OAAO,KAAK,SAAS,QAAQ,GACvBA,EAAA,GAAG,MAAM,aAAa,kBAAkB,EAExD,QAAQ,IAAI,iBAAiB,GACtB,GAAG,OAAO,KAAK,SAAS,OAAO,IACtBA,EAAA,GAAG,MAAM,aAAa,iBAAiB,EAEvD,QAAQ,IAAI,gBAAgB,GAc7B,GAAA,GAAG,UAAU,UAAU,CACtB,GAAI,YAEJ,MAAO,aACP,QAAS,mCACT,SAAU,IAAM,CACT,GAAA,IAAI,QAAQA,CAAuB,CAC1C,CAAA,CACH,EAEE,GAAA,GAAG,UAAU,UAAU,CACtB,GAAI,WAEJ,MAAO,OACP,SAAU,IAAM,CACT,GAAA,GAAG,MAAM,aACT,GAAA,GAAG,MAAM,UAAU,CAClB,IAAK,sEACL,MAAO,aACP,MAAO,YACP,SAAU,GACV,SAAU,OAAA,CACb,CACL,CAAA,CACH,EACG,IAAAC,EACJ,GAAG,KAAK,aAAa,UAAU,EAAE,UAAU,IAAM,CAClCA,EAAA,GAAG,GAAG,qBAAqB,CAClC,QAAS,kaACT,SAAU,IAAM,CACT,GAAA,GAAG,MAAM,aACT,GAAA,GAAG,MAAM,UAAU,CAClB,IAAK,sEACL,MAAO,aACP,MAAO,YACP,SAAU,GACV,SAAU,OAAA,CACb,CACL,CAAA,CACH,CAAA,CACJ,EACD,GAAG,KAAK,aAAa,UAAU,EAAE,UAAU,IAAM,CAC7CA,EAAS,OAAO,CAAA,CACnB,EAEG,IAAAC,EACJ,WAAW,UAAY,CACPA,EAAA,GAAG,GAAG,qBAAqB,CACnC,QAAS,6IACT,SAAU,IAAM,CAEhB,CAAA,CACH,GACF,GAAI,EACP,GAAG,KAAK,aAAa,OAAO,EAAE,UAAU,IAAM,CAC1CA,EAAU,OAAO,CAAA,CACpB,EACD,GAAG,KAAK,KAAK,QAAQ,eAAe,EAAE,UAAU,IAAM,CACvCD,EAAA,GAAG,GAAG,qBAAqB,CAClC,QAAS,kaACT,SAAU,IAAM,CACT,GAAA,GAAG,MAAM,aACT,GAAA,GAAG,MAAM,UAAU,CAClB,IAAK,sEACL,MAAO,aACP,MAAO,YACP,SAAU,GACV,SAAU,OAAA,CACb,CACL,CAAA,CACH,CAAA,CACJ,EACD,GAAG,KAAK,KAAK,QAAQ,eAAe,EAAE,UAAU,IAAM,CAClDA,EAAS,OAAO,CAAA,CACnB,EAGcE,EAAA,EAAE,KAAK,IAAM,CACxB,QAAQ,IAAI,2BAA2B,CAAA,CAC1C,EAAE,SAAW,QAAQ,MAAMC,CAAC,CAAC,CAElC,CAAC,EAAE,MAAM,GAAK,QAAQ,MAAM,CAAC,CAAC"}