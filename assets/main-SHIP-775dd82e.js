import{b as y}from"./init-efdab3ca.js";console.info("Script inside boat started successfully");WA.onInit().then(()=>{WA.room.area.onEnter("insideShip").subscribe(()=>{WA.room.showLayer("Settings/inCollide"),WA.room.showLayer("InUnder/inBoatFloor1"),WA.room.showLayer("InUnder/inBoatFloor2"),WA.room.showLayer("InUnder/inBoatWall1"),WA.room.showLayer("InUnder/inBoatWall2"),WA.room.showLayer("InUnder/inBoatDetails1"),WA.room.showLayer("InUnder/inBoatDetails2"),WA.room.showLayer("InAbove/inBoatAboveWall"),WA.room.showLayer("InAbove/inBoatAbove1"),WA.room.showLayer("InAbove/inBoatAbove2"),WA.room.hideLayer("Settings/outCollide"),WA.room.hideLayer("OutAbove/outBoatAbove1"),WA.room.hideLayer("OutAbove/outBoatAbove2"),WA.room.hideLayer("OutAbove/outBoatAbove3"),WA.room.hideLayer("OutAbove/outBoatAbove4"),WA.room.hideLayer("OutAbove/outBoatAbove5"),WA.room.hideLayer("OutAbove/outBoatAbove6"),WA.room.hideLayer("OutAbove/outBuilding2"),WA.room.hideLayer("OutAbove/outBuilding1"),WA.room.hideLayer("OutAbove/outBuilding0"),WA.room.hideLayer("OutAbove/outTent2"),WA.room.hideLayer("Clouds"),WA.room.hideLayer("Lights")}),WA.room.area.onLeave("insideShip").subscribe(()=>{WA.room.hideLayer("Settings/inCollide"),WA.room.hideLayer("InUnder/inBoatFloor1"),WA.room.hideLayer("InUnder/inBoatFloor2"),WA.room.hideLayer("InUnder/inBoatWall1"),WA.room.hideLayer("InUnder/inBoatWall2"),WA.room.hideLayer("InUnder/inBoatDetails1"),WA.room.hideLayer("InUnder/inBoatDetails2"),WA.room.hideLayer("InAbove/inBoatAboveWall"),WA.room.hideLayer("InAbove/inBoatAbove1"),WA.room.hideLayer("InAbove/inBoatAbove2"),WA.room.showLayer("Settings/outCollide"),WA.room.showLayer("OutAbove/outBoatAbove1"),WA.room.showLayer("OutAbove/outBoatAbove2"),WA.room.showLayer("OutAbove/outBoatAbove3"),WA.room.showLayer("OutAbove/outBoatAbove4"),WA.room.showLayer("OutAbove/outBoatAbove5"),WA.room.showLayer("OutAbove/outBoatAbove6"),WA.room.showLayer("OutAbove/outBuilding2"),WA.room.showLayer("OutAbove/outBuilding1"),WA.room.hideLayer("OutAbove/outBuilding0"),WA.room.showLayer("OutAbove/outTent2"),WA.room.showLayer("Clouds"),WA.room.showLayer("Lights")})});console.info("Script inside captain apartment started successfully");WA.onInit().then(()=>{WA.room.area.onEnter("insideCapApartment").subscribe(()=>{WA.room.hideLayer("Settings/outCollide"),WA.room.hideLayer("OutAbove/outBoatAbove1"),WA.room.hideLayer("OutAbove/outBoatAbove2"),WA.room.hideLayer("OutAbove/outBoatAbove3"),WA.room.hideLayer("OutAbove/outBoatAbove4"),WA.room.hideLayer("OutAbove/outBoatAbove5"),WA.room.hideLayer("OutAbove/outBoatAbove6"),WA.room.hideLayer("OutAbove/outBuilding2"),WA.room.hideLayer("OutAbove/outBuilding1"),WA.room.hideLayer("OutAbove/outBuilding0"),WA.room.hideLayer("OutAbove/outTent2"),WA.room.hideLayer("Clouds"),WA.room.hideLayer("Lights"),WA.room.showLayer("InCapApartment/equipment3"),WA.room.showLayer("InCapApartment/equipment2"),WA.room.showLayer("InCapApartment/equipment1"),WA.room.showLayer("InCapApartment/inApartment3"),WA.room.showLayer("InCapApartment/inApartment2"),WA.room.showLayer("InCapApartment/inApartment1"),WA.room.showLayer("InCapApartment/carpet"),WA.room.showLayer("InCapApartment/floor"),WA.room.showLayer("InCapApartment/water"),WA.room.showLayer("InCapApartment/collides"),WA.room.showLayer("InAboveCapApartment/above3"),WA.room.showLayer("InAboveCapApartment/above2"),WA.room.showLayer("InAboveCapApartment/above1")}),WA.room.area.onLeave("insideCapApartment").subscribe(()=>{WA.room.hideLayer("InCapApartment/equipment3"),WA.room.hideLayer("InCapApartment/equipment2"),WA.room.hideLayer("InCapApartment/equipment1"),WA.room.hideLayer("InCapApartment/inApartment3"),WA.room.hideLayer("InCapApartment/inApartment2"),WA.room.hideLayer("InCapApartment/inApartment1"),WA.room.hideLayer("InCapApartment/carpet"),WA.room.hideLayer("InCapApartment/floor"),WA.room.hideLayer("InCapApartment/water"),WA.room.hideLayer("InCapApartment/collides"),WA.room.hideLayer("InAboveCapApartment/above3"),WA.room.hideLayer("InAboveCapApartment/above2"),WA.room.hideLayer("InAboveCapApartment/above1"),WA.room.showLayer("Settings/outCollide"),WA.room.showLayer("OutAbove/outBoatAbove1"),WA.room.showLayer("OutAbove/outBoatAbove2"),WA.room.showLayer("OutAbove/outBoatAbove3"),WA.room.showLayer("OutAbove/outBoatAbove4"),WA.room.showLayer("OutAbove/outBoatAbove5"),WA.room.showLayer("OutAbove/outBoatAbove6"),WA.room.showLayer("OutAbove/outBuilding2"),WA.room.showLayer("OutAbove/outBuilding1"),WA.room.showLayer("OutAbove/outBuilding0"),WA.room.showLayer("OutAbove/outTent2"),WA.room.showLayer("Clouds"),WA.room.showLayer("Lights")})});console.info("Script secret way started successfully");const h=["secretway/1","secretway/2","secretway/3","secretway/4","secretway/5","secretway/6","secretway/7","secretway/8","secretway/9","secretway/10","secretway/11","secretway/12"];WA.onInit().then(()=>{for(const e of h)WA.room.hideLayer(e),WA.room.onEnterLayer(e).subscribe(()=>{WA.room.showLayer(e)}),WA.room.onLeaveLayer(e).subscribe(()=>{setTimeout(()=>{WA.room.hideLayer(e)},100)})});console.info("Script secret sentence started successfully");let b=new Set(["word1","word2","word3","word4","word5","word6"]),r,a,n,d,s,t="noindice",i=!1;WA.onInit().then(()=>{const e=new URL(WA.room.mapURL);WA.controls.disablePlayerControls(),WA.ui.modal.openModal({title:"The game rules",src:`${e.protocol}//${e.host}${e.protocol==="https:"?"/nftbiarritz-game/":"/"}secretSentence/rules.html`,allowApi:!0,allow:"microphone; camera",position:"center"},()=>{u(e),WA.ui.modal.closeModal(),l(),WA.ui.actionBar.removeButton("start")}),WA.ui.actionBar.addButton({id:"start",label:"Let's go!",callback:()=>{u(e),WA.ui.modal.closeModal(),l(),WA.ui.actionBar.removeButton("start")}})});function u(e){WA.controls.restorePlayerControls(),WA.ui.actionBar.addButton({id:"secrect-sentence",type:"action",imageSrc:`${e.protocol}//${e.host}${e.protocol==="https:"?"/nftbiarritz-game/":"/"}secretSentence/images/key-white.svg`,toolTip:"The secret sentence",callback:()=>{if(i){WA.ui.modal.closeModal(),i=!1;return}const o=Object.keys(WA.player.state.sentance).filter(c=>WA.player.state.sentance[c]===!0);WA.ui.modal.openModal({title:"Review secret sentence ðŸ‘€",src:`${e.protocol}//${e.host}${e.protocol==="https:"?"/nftbiarritz-game/":"/"}secretSentence/review.html?lastIndice=${t}&words=${o.join(",")}`,allowApi:!0,allow:"microphone; camera",position:"center"},()=>{WA.ui.modal.closeModal(),i=!1}),i=!0}}),WA.player.state.sentance||(WA.player.state.sentance={word1:!1,word2:!1,word3:!1,word4:!1,word5:!1,word6:!1});for(const o of[...b.keys()])WA.room.area.onEnter(o).subscribe(()=>{if(console.info(`You fin the word ${o}!`),WA.player.state.sentance[o]===!0)return;WA.player.state.sentance[o]=!0;const c=Object.keys(WA.player.state.sentance).filter(W=>WA.player.state.sentance[W]===!0);WA.ui.modal.openModal({title:"Congarts, you found an object ðŸŽ‰",src:`${e.protocol}//${e.host}${e.protocol==="https:"?"/nftbiarritz-game/":"/"}secretSentence/index.html?current=${o}&words=${c.join(",")}`,allowApi:!0,allow:"microphone; camera",position:"center"},()=>{l(),WA.ui.modal.closeModal()}),t="noindice",m(),WA.ui.banner.closeBanner()});WA.room.area.onEnter("form").subscribe(()=>{WA.player.state.sentance.word1&&WA.player.state.sentance.word2&&WA.player.state.sentance.word3&&WA.player.state.sentance.word4&&WA.player.state.sentance.word5&&WA.player.state.sentance.word6?(m(),r=WA.ui.openPopup("formPopup","Congarts you found the secret sentance ðŸŽ‰ðŸŽ‰",[{label:"Get your NFT",className:"primary",callback:o=>{WA.ui.modal.openModal({title:"Get your NFT",src:"https://blocksurvey.io/nftbiarritz-2023-VCYczIDFT2qN2NkIyoF99A-o",allowApi:!0,allow:"microphone; camera",position:"center"},()=>{WA.ui.modal.closeModal()}),o.close(),r=void 0}}])):(r=WA.ui.openPopup("formPopup",`You are missing words to access the form ðŸ˜­ðŸ˜­
\rAs we are very nice, an index will appear ðŸ’ª`,[{label:"Continue",className:"primary",callback:o=>{o.close(),r=void 0}}]),d&&clearTimeout(d),d=setTimeout(()=>{WA.ui.banner.openBanner({id:"indice",bgColor:"#1c1c29",textColor:"#ffffff",text:`Your new clue : ${p(!0)}`,closable:!0})},1e3))}),WA.room.area.onLeave("form").subscribe(()=>{r!==void 0&&(r.close(),r=void 0),WA.ui.modal.closeModal()}),WA.room.area.onEnter("noneExit1").subscribe(()=>{a=WA.ui.openPopup("noneExit1Popup","Hop hop hop... ou vas-tu ?! ",[{label:"Continue",className:"primary",callback:o=>{o.close(),a=void 0}}])}),WA.room.area.onLeave("noneExit1").subscribe(()=>{a==null||a.close()}),WA.room.area.onEnter("noneExit2").subscribe(()=>{n=WA.ui.openPopup("noneExit2Popup","Hop hop hop... ou vas-tu ?!",[{label:"Continue",className:"primary",callback:o=>{o.close(),n=void 0}}])}),WA.room.area.onLeave("noneExit2").subscribe(()=>{n==null||n.close()})}function m(){s&&clearTimeout(s)}function l(){s&&clearTimeout(s),s=setTimeout(()=>{const e=p();return e!=null&&WA.ui.banner.openBanner({id:"indice",bgColor:"#1c1c29",textColor:"#ffffff",text:`Ton indice : ${e}`,closable:!0}),l()},2e4)}function p(e=!1){if(WA.player.state.sentance.word1===!1&&(t!="word1"||e))return t="word1","Do you like chess games with the captain on the deck?";if(WA.player.state.sentance.word1&&WA.player.state.sentance.word2===!1&&(t!="word2"||e))return t="word2","You will discover a certain taste for hunting in the hold!";if(WA.player.state.sentance.word1&&WA.player.state.sentance.word2&&WA.player.state.sentance.word3===!1&&(t!="word3"||e))return t="word3","A treasure is in plain sight!";if(WA.player.state.sentance.word1&&WA.player.state.sentance.word2&&WA.player.state.sentance.word3&&WA.player.state.sentance.word4===!1&&(t!="word4"||e))return t="word4","Well hidden, you have to venture into the darkest corners of the hold!";if(WA.player.state.sentance.word1&&WA.player.state.sentance.word2&&WA.player.state.sentance.word3&&WA.player.state.sentance.word4&&WA.player.state.sentance.word5===!1&&(t!="word5"||e))return t="word5","Have you ever seen the captain's apartments and the treasure it contains?";if(WA.player.state.sentance.word1&&WA.player.state.sentance.word2&&WA.player.state.sentance.word3&&WA.player.state.sentance.word4&&WA.player.state.sentance.word5&&WA.player.state.sentance.word6===!1&&(t!="word6"||e))return t="word6","A boat, a captain, a treasure, a secret path, a deserted island ... You can say a prayer there!";if(WA.player.state.sentance.word1&&WA.player.state.sentance.word2&&WA.player.state.sentance.word3&&WA.player.state.sentance.word4&&WA.player.state.sentance.word5&&WA.player.state.sentance.word6&&t!="form")return"The end is near!"}console.info("Script started successfully");let A;WA.onInit().then(()=>{console.info("Scripting API ready"),console.info("Player tags: ",WA.player.tags),WA.room.area.onEnter("clock").subscribe(()=>{const e=new Date,o=e.getHours()+":"+e.getMinutes();A=WA.ui.openPopup("clockPopup","It's "+o,[])}),WA.room.area.onLeave("clock").subscribe(w),y().then(()=>{console.info("Scripting API Extra ready"),WA.controls.disablePlayerProximityMeeting()}).catch(e=>console.error(e))}).catch(e=>console.error(e));function w(){A!==void 0&&(A.close(),A=void 0)}
//# sourceMappingURL=main-SHIP-775dd82e.js.map
